<div class="horizontal_email">
  <div id="email__form__container">
  <form id="step-form">
    <h2>Signing up for our newletters matter</h2>
    <p>When mainstream medial silence critical voices, and social media giants de-platform Palestinian activists and organizations, staying connect with email is essential. Our emails provide in-depth updates directly to your inbox, ensuring you don't miss urgent news or events amidst the noise of social media algorithms.</p>
    <input data-step="1" type="text" placeholder="email">
    <input data-step="2" type="text" placeholder="first name" style="display: none;">
    <input data-step="3" type="text" placeholder="last name" style="display: none;">
    <button type="button" id="next-button">Next</button>
  </form>
  </div>
</div>

<style>

  #email__form__container{
    background-color: var(--white);
    padding: 5rem 2rem;
    max-width: 800px;
  }
 
  .horizontal_email {
    border-top: .5px dotted var(--black);
    display: grid;
    justify-content: center;
    align-items: center;
    margin: 0 auto;
    height: 100%;
    background-color: var(--white);
    box-shadow: 0 0 0 100vmax var(--white);
    clip-path: inset(0 -100vmax);
    color: var(--black);
    min-height: 60vh;
    width: 100%;
    padding: 5rem 2rem;
    background-image: url("https://res.cloudinary.com/abualex/image/upload/v1682847300/dot.png");
      background-repeat: repeat;
    
    
  }

  .horizontal_email input {
    width: 100%;
    height: 2.3rem;
    max-width: 300px;
    margin-top: 2rem;
  }

  .horizontal_email input:focus {
    background-color: lightblue;
  }
</style>

<script>
  const form = document.querySelector('#step-form');
  const nextButton = document.querySelector('#next-button');
  let currentStep = 1;

  function showNextInput() {
    currentStep++;
    const currentInput = form.querySelector(`input[data-step="${currentStep - 1}"]`);
    const nextInput = form.querySelector(`input[data-step="${currentStep}"]`);
    if (nextInput) {
      currentInput.style.display = 'none';
      nextInput.style.display = 'block';
      nextInput.focus();

      if (currentStep === 3) {
        nextButton.textContent = 'Submit';
        nextButton.type = 'submit';
      }
    }
  }

  nextButton.addEventListener('click', (event) => {
    const currentInput = form.querySelector(`input[data-step="${currentStep}"]`);
    if (currentInput.value) {
      showNextInput();
    } else {
      alert('Please fill in the current field before proceeding.');
    }
  });

  form.addEventListener('submit', (event) => {
    event.preventDefault();
    // Handle form submission here
    console.log('Form submitted');
  });
</script>
