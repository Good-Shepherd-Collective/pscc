<div class="email__container">
  <div class="container">
  <span class="CTA">Newsletters</span>
  <h3>Stay connected when it matters most</h3>
  <p>With mainstream media silencing critical voices and social media coorporations silencing Palestinian organizers, it's critical to build alternative structures of communication. Joining our email list ensure you stay connected with the most relevant news and analysis from the ground.</p>

  <form action="/.netlify/functions/subscribe" method="post">
   
    <div >
      <input class="input__email__front" type="text" id="name" name="name" placeholder="Name">
      <input class="input__email__front" type="text" id="email" name="email" placeholder="Email Address">
      <input type="hidden" name="form-name" value="email_list" />
      <input type="submit" class="button__email" id="submit" value="SIGN UP">
    </div>
  </form>
</div>
</div>

<style>
  .email__container {
    background-color: var(--white);
    color: var(--black);
    padding: 8rem 4rem;
    width: 100%;
  } 

  .email__container p{
    max-width: 850px;
    text-wrap: balance;
  }

  .CTA{
    font-family: 'montserrat', sans-serif;
    outline: .5px solid var(--red);
    padding: 3px 8px;
    border-radius: 5px;
    font-size: .65rem;
    font-weight: 500;
    margin-bottom: 1.5rem;
    display: inline-block;
    background-color: #fff;
  }

  .underline {
    text-decoration: underline;
    text-decoration-color: var(--red);
    text-underline-offset: 3px;
  }

.button__email{
  background-color: var(--red);
  border: none;
  font-family: 'montserrat', sans-serif;
  font-size: .75rem;
  width: fit-content;
  color: #fff;
  height: 2rem;
  margin-top: 1.5rem;
  }
  .button__email:hover{
    color: #fff;
    border: .5px solid var(--white);
    cursor: pointer;
  }
.input__email__front{
  background-color: var(--white);
  border: .5px solid var(--black);
  font-family: 'montserrat', sans-serif;
  font-size: .75rem;
  width: 100%;
  max-width: 450px;
  height: 2rem;
}

.input__email__front::placeholder{
  color: var(--black);
  font-family: 'montserrat', sans-serif;
  font-size: .75rem;
  font-weight: 500;
}
.input__email__front:focus::placeholder{
  color: var(--black);
}
.input__email__front:focus{
  outline: .5px solid var(--red);
  background-color: #fff;
  color: var(--black); 
}
</style>

<script>
  window.onload = function() {
    // select the form and attach the submit event listener
    var form = document.querySelector('form');
    form.addEventListener('submit', function(event) {
      // select the input fields
      var name = document.querySelector('#name');
      var email = document.querySelector('#email');
      var message = document.querySelector('#message');
  
      // email regex for basic email validation
      var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
  
      // check if all fields are filled out
      if (!name.value || !email.value ) {
        alert('Please fill out all fields.');
        event.preventDefault(); // prevent the form from submitting
        return;
      }
  
      // check if email is valid
      if (!emailRegex.test(email.value)) {
        alert('Please enter a valid email.');
        event.preventDefault(); // prevent the form from submitting
        return;
      }
    });
  };
  </script>